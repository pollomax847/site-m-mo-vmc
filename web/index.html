<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mémo Technique VMC</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
  <meta name="google-adsense-account" content="ca-pub-6664265722735791">
  <!-- Configurez votre slot AdSense ici (laisser vide pour désactiver) -->
  <meta name="google-ads-slot" content="">
</head>
<body>
  <header>
    <h1>Mémo Technique VMC</h1>
  </header>
  <!-- Conteneur d'annonces (top). Le slot est injecté dynamiquement si configuré. -->
  <div class="ad-container top-ad" id="top-ad" aria-hidden="true"></div>
  <nav>
    <a href="index.html" class="active">Accueil</a>
    <a href="calculateur.html">Calculateur</a>
    <a href="simple-flux.html">Simple Flux</a>
    <a href="double-flux.html">Double Flux</a>
  </nav>
  <main>
    <div class="card">
      <h2>Calculateur de débits</h2>
      <p>Calculez rapidement les débits réglementaires selon votre logement et le type de VMC.</p>
      <a href="calculateur.html" class="btn-main">Accéder au calculateur</a>
    </div>
    <div class="card">
      <h2>VMC Simple Flux</h2>
      <p>Tout savoir sur la VMC simple flux, ses avantages, son installation et sa maintenance.</p>
      <a href="simple-flux.html" class="btn-main">Voir la documentation</a>
    </div>
    <div class="card">
      <h2>VMC Double Flux</h2>
      <p>Découvrez la VMC double flux, son fonctionnement, ses bénéfices et conseils pratiques.</p>
      <a href="double-flux.html" class="btn-main">Voir la documentation</a>
    </div>
    <!-- Conteneur d'annonces (bottom). Le slot est injecté dynamiquement si configuré. -->
    <div class="ad-container bottom-ad" id="bottom-ad" aria-hidden="true"></div>
  </main>
  <footer>
    <p>&copy; 2026 Mémo Technique VMC</p>
  </footer>
  <!-- Script AdSense (chargé uniquement en production) -->
  <script>
    (function(){
      // Lire la configuration du slot depuis la meta
      function getMeta(name){
        var m = document.querySelector('meta[name="'+name+'"]');
        return m ? m.content.trim() : '';
      }

      var adSlot = getMeta('google-ads-slot');
      var adClient = getMeta('google-adsense-account') || 'ca-pub-6664265722735791';

      // Ne pas charger les annonces en développement ou si aucun slot configuré
      window.addEventListener('load', function(){
        if (!adSlot) {
          console.info('AdSense slot not configured — ads disabled');
          return;
        }
        if (window.location.hostname.includes('localhost') || window.location.hostname.match(/^192\.168\./)) {
          console.info('Localhost detected — ads disabled');
          return;
        }

        // Charger le script AdSense
        var s = document.createElement('script');
        s.async = true;
        s.src = 'https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=' + encodeURIComponent(adClient);
        s.crossOrigin = 'anonymous';
        s.onload = function(){
          // Créer et initialiser les annonces dans les conteneurs présents
          ['top-ad','bottom-ad'].forEach(function(id){
            var container = document.getElementById(id);
            if (!container) return;
            // injecter l'ins uniquement si le container est vide
            if (container.querySelector('.adsbygoogle')) return;
            var ins = document.createElement('ins');
            ins.className = 'adsbygoogle';
            ins.style.display = 'block';
            ins.setAttribute('data-ad-client', adClient);
            ins.setAttribute('data-ad-slot', adSlot);
            ins.setAttribute('data-ad-format', 'auto');
            ins.setAttribute('data-full-width-responsive', 'true');
            container.appendChild(ins);
            try{ (adsbygoogle = window.adsbygoogle || []).push({}); } catch(e) { console.error('Ad init error', e); }
          });
        };
        document.head.appendChild(s);
      });
    })();
  </script>
</body>
</html>
